using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BaseEnemies : MonoBehaviour, IEnemy
{
  //Enemy Stats from IEnemy
  public int hp {get; [SerializeField] set;} = 5; //Enemy HP
  public float speed {get; [SerializeField] set;} = 1.0f; //Enemy Speed
  public int damage {get; [SerializeField] set;} = 1; //Enemy Damage
  public float firerate {get; [SerializeField] set;} = 0f; //Enemy Firerate (If we want the enemies to fire projectiles)
  public int cost {get; [SerializeField] set;} = 1; //Enemy Size or Game Cost

  //Private Variables
  private BoxCollider2D _box;
  private Rigidbody2D _body;
  private Animator _anim;

  public void DamageEnemy(int damage)
  {
    hp -= damage;
  }

  private void OnTriggerEnter2D(Collider2D col)
  {
    GameObject other = col.gameObject;
    if(other.tag == "Player") //Checks if the tag being collided with is the player tag
    {
      other.GetComponent<IPlayer>().DamagePlayer(damage); //Applies the damage to the Player
    }
    else if(other.tag == "Attack") //Checks if the tag being collided with is the attack tag
    {
      DamageEnemy(other.GetComponent<IWeapon>().damage); //Applies the damage to the enemy
    }
  }
}
