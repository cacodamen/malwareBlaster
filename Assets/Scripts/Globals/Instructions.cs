using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;

public class Instructions : MonoBehaviour
{
    [SerializeField] TMP_Text instructionText;
    public bool mousePressed;
    public bool tabPressed;
    public bool walking;
    // Start is called before the first frame update
    void Start()
    {
      instructionText.text = "Use WASD to move.";
      walking = false;
      mousePressed = false;
      tabPressed = false;
    }

    public IEnumerator XPInstructions(){
      instructionText.text = "Run into purple and blue flame to get XP";
      yield return new WaitForSeconds(5.0f);
      instructionText.text = "Now... save this company!";
      yield return new WaitForSeconds(5.0f);
      gameObject.SetActive(false);
    }
    // Update is called once per frame
    void Update()
    {
      if(Input.GetKeyDown(KeyCode.A) && walking == false && mousePressed == false && tabPressed == false){
        walking = true;
        instructionText.text = "Press mouse button to shoot.";
      }else
      if(Input.GetMouseButtonDown(0) && mousePressed == false && tabPressed == false){
        mousePressed = true;
        instructionText.text = "Press TAB to open weapon wheel.";
      }else
      if(Input.GetKeyDown(KeyCode.Tab) && mousePressed == true){
        instructionText.text = "Click on a weapon you want to use.";
        mousePressed = false;
        tabPressed = true;
      }else if(Input.GetMouseButtonDown(0) && mousePressed == false && tabPressed == true){
        mousePressed = true;
        StartCoroutine(XPInstructions());
      }
    }
}
