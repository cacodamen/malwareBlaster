using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class XPBar : MonoBehaviour
{
    [SerializeField] GameObject xpbar;

    //ItemXP will get changed in the player, so player needs
    //the xpbar game componenet and each time the player hits
    //an xp item the player code will get game component and
    //its amount of xp then edit itemXP (which is why itemXP is public)
    public float itemXP;
    public bool itemPicked;
    public bool barFull;
    public float maxLimit = 1.0f;
    public float minLimit = 0.0f;

    public Vector3 position;

    public IEnumerator ChangeBar(float scalar){
      yield return new WaitForSeconds(0.5f);
      int xsize = scalar+positionx;
      if(xsize >= maxLimit){
        Vector3 size = new Vector3(maxLimit, 1.0f, 1.0f);
      }else{
        Vector3 size = new Vector3(xsize, 1.0f, 1.0f);
      }
      xpbar.transform.localScale = size;
      xpbar.transform.position = new Vector3(position.x+scalar, position.y, position.z);
    }

    public bool checkBar(){
      if(position.x == maxLimit){
        return true;
      }
      return false;
    }
    // Start is called before the first frame update
    void Start()
    {
      position = xpbar.transform.position;
      itemXP = 0;
      itemPicked = false;
      barFull = false;
    }

    // Update is called once per frame
    void Update()
    {
        position = xpbar.transorm.position;
        if(itemPicked == true){
          StartCourtine(ChangeBar(itemXP));
          itemPicked = false;
        }
        if(checkBar()){
          barFull = true;
          StartCourtine(ChangeBar(0));
        }
    }
}
